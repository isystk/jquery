<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="content-language" content="ja" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-script-type" content="text/javascript" />
<link href="../css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/common.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/development.css" rel="stylesheet" type="text/css" media="all" />
<link href="../js/lib/jquery-ui/jquery-ui.custom.css" rel="stylesheet" type="text/css" media="all" />
<style type="text/css">
div.searchCondition input{
width: 200px;
}
div.searchCondition input.btn{
width: 100px;
}
div.searchResult {
width: 330px;
}
div.searchResult img{
width:80px;
height:50px;
}
div.searchResult ul{
list-style:none;
}
div.searchResult li{
padding: 2px;
float:left;
}
</style>
<script type="text/javascript" src="../js/lib/jquery.js"></script>
<script type="text/javascript" src="../js/lib/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="../js/lib/jquery-ui/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="../js/lib/underscore.js"></script>
<script type="text/javascript" src="../js/lib/jsdeferred.js"></script>
<script type="text/javascript" src="../js/lib/jquery-plugins.min.js"></script>
<script type="text/javascript" src="../js/lib/common.js"></script>
<script type="text/javascript">
<!--
$(function() {
	$('.searchBtn').click(function(e) {
		e.preventDefault();
		var word = $('.searchWord').val();
		$.photoFinder(word, function(result) {
			var list = [];
			for(var i=0, len=result.items.length; i<len; i++) {
				var item = result.items[i];
				var data = {};
				data.title = item.title;
				data.src = item.link;
				data.link = item.image.contextLink;
				list.push(data);
			}
			makeHtml(list);
		});
		function makeHtml(list) {
			$('.searchResult').empty();
			if (0 < list.length) {
				$('.searchResult').append($('<ul></ul>'));
			}
			for(var i=0, len=list.length; i<len; i++) {
				var data = list[i];
				$([
					'<li><a href="'+data.link+'" target="_blank"><img src="'+data.src+'" alt="'+data.title+'" class="image" /></a></li>'
				].join('')).appendTo('.searchResult ul');
			}
		}
	});
});
// -->
</script>
</head>
<body>
<div>
	<div class="searchCondition">
	<input type="text" value="ねこ" maxlength="100" placeholder="検索ワードを入力してください"  class="searchWord" />
	<a href="#" class="searchBtn"><input type="button" value="検索" class="btn"/></a>
	</div>
	<div class="searchResult">
	</div>
</div>
</body>
</html>
