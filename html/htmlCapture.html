<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="content-language" content="ja" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-script-type" content="text/javascript" />
<link href="../css/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/common.css" rel="stylesheet" type="text/css" media="all" />
<link href="../css/development.css" rel="stylesheet" type="text/css" media="all" />
<link href="../js/lib/jquery-ui/jquery-ui.custom.css" rel="stylesheet" type="text/css" media="all" />
<script type="text/javascript" src="../js/lib/jquery.js"></script>
<script type="text/javascript" src="../js/lib/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="../js/lib/jquery-ui/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="../js/lib/underscore.js"></script>
<script type="text/javascript" src="../js/lib/jsdeferred.js"></script>
<script type="text/javascript" src="../js/lib/html2canvas.js"></script>
<script type="text/javascript" src="../js/lib/jquery-plugins.min.js"></script>
<script type="text/javascript" src="../js/lib/common.js"></script>

<script type="text/javascript">
$(function() {
	var chaptureArea = $("#chaptureArea");
	html2canvas(chaptureArea[0],{
      		onrendered: function(canvas){
     			//aタグのhrefにキャプチャ画像のURLを設定
     			document.getElementById("ss").href = canvas.toDataURL("image/png");
     		}
	});
});
</script>

</head>
<body>
	<article>
		<div id="chaptureArea">
			<h1>JSで撮るスクリーンショット</h1>
			<h2>導入方法</h2>
			<ol>
				<li>html2canvas.jsを読込む</li>
				<li>html2canvas関数を呼ぶ</li>
			 	<li>onrenderedでSSが書き込まれたcanvasを好きなように使う</li>
			</ol>
			<h2>注意</h2>
			<ul>
				<li>Webサーバーに配置しないとエラーになるかも（firefox30.0でローカルで動作確認）</li>
				<li>このサンプルではブラウザによっては、ダウンロードできないかも</li>
				<li>flashやapplet,iframeはうまくキャプチャできない</li>
			</ul>
		</div>
		<a href="" id="ss" download="ss.png">スクリーンショット</a>
	</article>
</body>
</html>
